<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Scroll Animation Showcase</title>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			overflow-x: hidden;
		}
		
		.hero {
			height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			text-align: center;
		}
		
		.hero h1 {
			font-size: 4rem;
			font-weight: 700;
			text-shadow: 2px 2px 20px rgba(0,0,0,0.3);
		}
		
		/* Controls */
		.animation-controls {
			position: fixed;
			top: 60px;
			right: 20px;
			background: white;
			padding: 20px;
			border-radius: 15px;
			box-shadow: 0 10px 40px rgba(0,0,0,0.3);
			z-index: 1000;
			min-width: 200px;
		}
		
		.animation-controls h6 {
			margin-bottom: 15px;
			font-weight: 600;
		}
		
		.form-switch {
			margin-bottom: 10px;
		}
		
		.form-switch .form-check-input {
			cursor: pointer;
		}
		
		/* Animation base styles */
		.animate-section {
			opacity: 0;
			transition: all 0.8s ease-out;
		}
		
		.animate-section.active {
			opacity: 1;
		}
		
		/* Fade Up Animation */
		.fade-up {
			transform: translateY(60px);
		}
		
		.fade-up.active {
			transform: translateY(0);
		}
		
		/* Fade In from Left */
		.fade-left {
			transform: translateX(-60px);
		}
		
		.fade-left.active {
			transform: translateX(0);
		}
		
		/* Fade In from Right */
		.fade-right {
			transform: translateX(60px);
		}
		
		.fade-right.active {
			transform: translateX(0);
		}
		
		/* Scale Up Animation */
		.scale-up {
			transform: scale(0.8);
		}
		
		.scale-up.active {
			transform: scale(1);
		}
		
		/* Rotate In Animation */
		.rotate-in {
			transform: rotate(-10deg) scale(0.8);
		}
		
		.rotate-in.active {
			transform: rotate(0) scale(1);
		}
		
		/* Flip Animation */
		.flip-in {
			transform: perspective(1000px) rotateY(90deg);
		}
		
		.flip-in.active {
			transform: perspective(1000px) rotateY(0);
		}
		
		/* Staggered Children Animation */
		.stagger-container .stagger-item {
			opacity: 0;
			transform: translateY(30px);
			transition: all 0.6s ease-out;
		}
		
		.stagger-container.active .stagger-item {
			opacity: 1;
			transform: translateY(0);
		}
		
		.stagger-container.active .stagger-item:nth-child(1) { transition-delay: 0.1s; }
		.stagger-container.active .stagger-item:nth-child(2) { transition-delay: 0.2s; }
		.stagger-container.active .stagger-item:nth-child(3) { transition-delay: 0.3s; }
		.stagger-container.active .stagger-item:nth-child(4) { transition-delay: 0.4s; }
		
		/* Section Styling */
		.demo-section {
			min-height: 100vh;
			display: flex;
			align-items: center;
			padding: 80px 0;
		}
		
		.content-card {
			background: white;
			border-radius: 20px;
			padding: 40px;
			box-shadow: 0 20px 60px rgba(0,0,0,0.3);
		}
		
		.icon-box {
			width: 80px;
			height: 80px;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			border-radius: 15px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 2rem;
			color: white;
			margin-bottom: 20px;
		}
		
		.feature-card {
			background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
			color: white;
			padding: 30px;
			border-radius: 15px;
			height: 100%;
			transition: transform 0.3s ease;
		}
		
		.feature-card:hover {
			transform: translateY(-10px);
		}
		
		.progress-indicator {
			position: fixed;
			top: 0;
			left: 0;
			width: 0%;
			height: 4px;
			background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
			z-index: 9999;
			transition: width 0.1s ease;
		}
		
		.scroll-indicator {
			position: absolute;
			bottom: 30px;
			left: 50%;
			transform: translateX(-50%);
			animation: bounce 2s infinite;
		}
		
		.badge-info {
			background: #17a2b8;
			color: white;
			padding: 5px 12px;
			border-radius: 12px;
			font-size: 0.85rem;
			margin-left: 10px;
		}
		
		@keyframes bounce {
			0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
			40% { transform: translateX(-50%) translateY(-20px); }
			60% { transform: translateX(-50%) translateY(-10px); }
		}
		
		@media (max-width: 768px) {
			.animation-controls {
				right: 10px;
				top: 50px;
				padding: 15px;
				min-width: 180px;
			}
			
			.hero h1 {
				font-size: 2.5rem;
			}
		}
	</style>
</head>
<body>
<div class="progress-indicator" id="progressBar"></div>

<!-- Animation Controls -->
<div class="animation-controls">
	<h6>Animation Settings</h6>
	<div class="form-check form-switch">
		<input class="form-check-input" type="checkbox" id="animateOnce" checked>
		<label class="form-check-label" for="animateOnce">
			Play Once
		</label>
	</div>
	<div class="form-check form-switch">
		<input class="form-check-input" type="checkbox" id="reverseOnExit">
		<label class="form-check-label" for="reverseOnExit">
			Reverse on Exit
		</label>
	</div>
	<small class="text-muted d-block mt-2">
		Toggle to see different behaviors
	</small>
</div>

<!-- Hero Section -->
<section class="hero">
	<div class="container">
		<h1>Scroll Animation Showcase</h1>
		<p class="lead">Custom animations with replay controls</p>
		<div class="mt-3">
			<span class="badge bg-light text-dark">Zero Dependencies</span>
			<span class="badge bg-light text-dark">Full Control</span>
			<span class="badge bg-light text-dark">Lightweight</span>
		</div>
		<div class="scroll-indicator">
			<svg width="30" height="50" viewBox="0 0 30 50" fill="none">
				<rect x="1" y="1" width="28" height="48" rx="14" stroke="white" stroke-width="2"/>
				<circle cx="15" cy="15" r="4" fill="white">
					<animate attributeName="cy" from="15" to="35" dur="1.5s" repeatCount="indefinite"/>
				</circle>
			</svg>
		</div>
	</div>
</section>

<!-- Fade Up Animation -->
<section class="demo-section">
	<div class="container">
		<div class="content-card animate-section fade-up">
			<div class="icon-box">↑</div>
			<h2>Fade Up Animation</h2>
			<p class="lead">This section smoothly fades in from below as you scroll.</p>
			<p>Perfect for introducing content in a subtle, elegant way. The element starts invisible and slightly below its final position, then transitions smoothly into view.</p>
			<p><strong>Try it:</strong> Scroll past this section and back up to see it animate again (if "Play Once" is disabled).</p>
		</div>
	</div>
</section>

<!-- Fade Left & Right -->
<section class="demo-section">
	<div class="container">
		<div class="row g-4">
			<div class="col-md-6">
				<div class="content-card animate-section fade-left">
					<div class="icon-box">←</div>
					<h3>Fade From Left</h3>
					<p>This card slides in from the left side, creating a dynamic entrance effect.</p>
					<span class="badge-info">Repeatable</span>
				</div>
			</div>
			<div class="col-md-6">
				<div class="content-card animate-section fade-right">
					<div class="icon-box">→</div>
					<h3>Fade From Right</h3>
					<p>This card slides in from the right side, balancing the visual flow.</p>
					<span class="badge-info">Repeatable</span>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Scale Up Animation -->
<section class="demo-section">
	<div class="container">
		<div class="content-card animate-section scale-up">
			<div class="icon-box">⊕</div>
			<h2>Scale Up Animation</h2>
			<p class="lead">This section grows from a smaller size to full scale.</p>
			<p>Creates a zoom-in effect that draws attention to the content. Great for highlighting important information or featured items.</p>
			<p><strong>Note:</strong> Enable "Reverse on Exit" to see the animation reverse when scrolling past.</p>
		</div>
	</div>
</section>

<!-- Rotate In Animation -->
<section class="demo-section">
	<div class="container">
		<div class="content-card animate-section rotate-in">
			<div class="icon-box">↻</div>
			<h2>Rotate In Animation</h2>
			<p class="lead">This section rotates and scales into view.</p>
			<p>Combines rotation with scaling for a playful, dynamic entrance. Adds personality to your page sections.</p>
		</div>
	</div>
</section>

<!-- Flip Animation -->
<section class="demo-section">
	<div class="container">
		<div class="content-card animate-section flip-in">
			<div class="icon-box">⟲</div>
			<h2>Flip In Animation</h2>
			<p class="lead">This section flips in like a card turning over.</p>
			<p>Creates a 3D flip effect that's both eye-catching and modern. Perfect for revealing content in an unexpected way.</p>
		</div>
	</div>
</section>

<!-- Staggered Animation -->
<section class="demo-section">
	<div class="container">
		<h2 class="text-white text-center mb-5 animate-section fade-up">Staggered Animation</h2>
		<div class="row g-4 stagger-container animate-section">
			<div class="col-md-6 col-lg-3 stagger-item">
				<div class="feature-card">
					<h4>Feature One</h4>
					<p>Each card appears with a slight delay, creating a cascading effect.</p>
				</div>
			</div>
			<div class="col-md-6 col-lg-3 stagger-item">
				<div class="feature-card">
					<h4>Feature Two</h4>
					<p>The staggered timing makes the animation feel more natural and polished.</p>
				</div>
			</div>
			<div class="col-md-6 col-lg-3 stagger-item">
				<div class="feature-card">
					<h4>Feature Three</h4>
					<p>Great for displaying multiple items like features or team members.</p>
				</div>
			</div>
			<div class="col-md-6 col-lg-3 stagger-item">
				<div class="feature-card">
					<h4>Feature Four</h4>
					<p>Creates visual rhythm and guides the user's eye through the content.</p>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Final Section -->
<section class="demo-section">
	<div class="container text-center">
		<div class="content-card animate-section fade-up">
			<h2>Full Control Over Animations!</h2>
			<p class="lead">Choose between play-once or repeatable animations.</p>
			<div class="mt-4">
				<h5>How to Use:</h5>
				<p><strong>Play Once (default):</strong> Animations trigger only the first time elements enter viewport - perfect for production sites.</p>
				<p><strong>Repeatable:</strong> Animations replay every time you scroll to them - great for demos and showcases.</p>
				<p><strong>Reverse on Exit:</strong> Animations reverse when leaving viewport - creates a mirror effect.</p>
			</div>
			<div class="mt-4">
				<p class="text-muted">Use the controls in the top-right corner to experiment with different behaviors!</p>
			</div>
		</div>
	</div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script>
	// Animation settings
	let animationSettings = {
		playOnce: true,
		reverseOnExit: false
	};
	
	// Get control elements
	const animateOnceCheckbox = document.getElementById('animateOnce');
	const reverseOnExitCheckbox = document.getElementById('reverseOnExit');
	
	// Update settings when controls change
	animateOnceCheckbox.addEventListener('change', (e) => {
		animationSettings.playOnce = e.target.checked;
		
		// If switching to play-once, reset all animations
		if (animationSettings.playOnce) {
			document.querySelectorAll('.animate-section').forEach(el => {
				el.classList.remove('active');
				el.dataset.animated = 'false';
			});
			// Re-trigger observer
			setupObserver();
		}
	});
	
	reverseOnExitCheckbox.addEventListener('change', (e) => {
		animationSettings.reverseOnExit = e.target.checked;
		setupObserver();
	});
	
	// Intersection Observer setup
	let observer;
	
	function setupObserver() {
		// Disconnect existing observer
		if (observer) {
			observer.disconnect();
		}
		
		const observerOptions = {
			threshold: 0.15,
			rootMargin: '0px 0px -100px 0px'
		};
		
		observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				const hasBeenAnimated = entry.target.dataset.animated === 'true';
				
				if (entry.isIntersecting) {
					// Element is entering viewport
					if (!animationSettings.playOnce || !hasBeenAnimated) {
						entry.target.classList.add('active');
						entry.target.dataset.animated = 'true';
					}
				} else if (animationSettings.reverseOnExit) {
					// Element is leaving viewport and reverse is enabled
					entry.target.classList.remove('active');
					if (!animationSettings.playOnce) {
						entry.target.dataset.animated = 'false';
					}
				} else if (!animationSettings.playOnce) {
					// Element is leaving viewport, repeatable mode
					entry.target.classList.remove('active');
					entry.target.dataset.animated = 'false';
				}
			});
		}, observerOptions);
		
		// Observe all animate sections
		document.querySelectorAll('.animate-section').forEach(el => {
			el.dataset.animated = 'false';
			observer.observe(el);
		});
	}
	
	// Initialize observer
	setupObserver();
	
	// Progress bar
	window.addEventListener('scroll', () => {
		const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
		const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
		const scrolled = (winScroll / height) * 100;
		document.getElementById('progressBar').style.width = scrolled + '%';
	});
</script>
</body>
</html>
